{"version":3,"sources":["frontEnd/src/logInReg.js"],"names":["translateParam","param","newParam","key","Array","push","encodeURIComponent","join","LogInReg","props","state","url","type","data","params","callBack","errorCallBack","method","headers","then","response","catch","error","Date","getTime","name","password","email","_sendAjax","res","console","log","logIn","reg","setState","e","target","value","submit","Component","render","document","getElementById"],"mappings":"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","file":"logInReg.js","sourceRoot":"/Users/mac/Documents/blog","sourcesContent":["import React from 'react'\nimport ReactDOM from 'react-dom';\nimport axios from 'axios'\nimport back from './utils/back.js'\nimport './logInReg.less'\n function translateParam(param) {\n  if (typeof(param) === 'object') {\n    let newParam = [];\n    for (let key in param){\n      if (param[key] instanceof Array) {\n        newParam.push(`${key}=${encodeURIComponent(JSON.stringify(param[key]))}`);\n      } else {\n        newParam.push(`${key}=${encodeURIComponent(param[key])}`);\n      }\n    }\n    return newParam.join('&');\n  }\n\n  return param;\n}\n\n class LogInReg extends React.Component {\n    constructor(props) {\n        super(props)\n        this.state = {\n            'logIn':true,\n            'reg':false,\n            'name': '',\n            'password': '',\n            'password-repeat': '',\n            'email': ''           \n        }\n    }\n    componentDidMount() {\nback();\n    }\n    _sendAjax(url, type, data, params, callBack, errorCallBack) {\n        return axios({\n            method: type,\n            url: url,\n            headers: {\n                'Content-Type': 'application/x-www-form-urlencoded; charset=utf-8'\n            },\n            data:translateParam(data) || {},\n            params: params || {},\n        }).then(function(response) {\n            if (callBack) {\n                callBack(response.data);\n            }\n        })\n        .catch(function(error) {\n            if(errorCallBack) {\n                errorCallBack(error)\n            }\n        });\n    }\n    submit() {\n        var url = '/reg?v=' + (new Date()).getTime();\n        var data = {\n            'name': this.state.name,\n            'password': this.state.password,\n            'password-repeat': this.state['password-repeat'],\n            'email': this.state.email\n        };\n        this._sendAjax(url,'post',data, null,function(res){\n\n        },function() {\n            console.log('error')\n        })\n    }\n    render() {\n        return (\n                <div className=\"log-reg-container\">\n                    <canvas id=\"back-canvas\"></canvas>\n                    <div className=\"main-body\">\n                        <div className=\"index-tab-nav\">\n                            <div className=\"index-nav-bar\" style={{\"color\": this.state.logIn ? '#0f88eb' : 'initial'}} onClick={() => {this.state.logIn = true;this.state.reg = false;this.setState()}}>登录</div>\n                            <div className=\"index-nav-bar\" style={{\"color\": this.state.reg ? '#0f88eb' : 'initial'}} onClick={() => {this.state.logIn = false;this.state.reg = true;this.setState()}}>注册</div>\n                            <div className={`index-nav-slider ${this.state.reg ? 'slide-step1' : ''}`}></div>\n                        </div>\n                        <div className=\"index-tab-log\" style={{\"display\": this.state.logIn ? 'initial' : 'none'}}>\n                            <div className=\"index-table-cont\">\n                                <input type=\"text\" className=\"index-tab-input\" name=\"name\" onChange={(e) => {this.state.name = e.target.value;}} placeholder=\"用户名\" />\n                                <input type=\"password\" className=\"index-tab-input\" name=\"password\" onChange={(e) => {this.state.password = e.target.value;}} placeholder=\"密码\"/>\n                            </div>\n                            <a className=\"index-table-opt ui-btn\" href=\"javascript:;\" onClick={() => {\n                            }}>登录</a>\n                        </div>\n                        <div className=\"index-tab-reg\" style={{\"display\": this.state.reg ? 'initial' : 'none'}}>\n                            <div className=\"index-table-cont\">\n                                <input type=\"text\" className=\"index-tab-input\" name=\"name\" onChange={(e) => {this.state.name = e.target.value;}} placeholder=\"用户名\" />\n                                <input type=\"password\" className=\"index-tab-input\" name=\"password\" onChange={(e) => {this.state.password = e.target.value;}} placeholder=\"密码\"/>\n                                <input type=\"password\" className=\"index-tab-input\" name=\"password-repeat\" onChange={(e) => {this.state['password-repeat'] = e.target.value;}} placeholder=\"确认密码\"/>\n                                 <input type=\"email\" className=\"index-tab-input\" name=\"email\" onChange={(e) => {this.state.email = e.target.value;}} placeholder=\"邮箱\" />\n                            </div>\n                            <a className=\"index-table-opt ui-btn\" href=\"javascript:;\" onClick={() => {\n                            this.submit()\n                            }}>提交</a>\n                        </div>\n                    </div>\n                </div>\n        )\n    }\n}\n\nReactDOM.render((\n<LogInReg></LogInReg>\n), document.getElementById('appRoot'))"]}